<div class="page-header">
    <child-comp 

    [userAge]="age"
    (onChanged)="onChanged($event)"
    >
        <input type="text" [(ngModel)]="age"/>
        <h2>Добро пожаловать {{ name }} !</h2>
    </child-comp>
    <h1>Привет {{ name }}</h1>
    <h2>Количество кликов: {{ clicks }}</h2>
    <h1>AppModule</h1>
    <data-comp></data-comp>
    <h2> Список покупок </h2>
</div>
<div class="panel">
    <div class="form-inline">
        <div class="form-group">
            <div class="col-md-8">
                <input class="form-control" [(ngModel)]="text" placeholder="Название" />
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-6">
                <input type="number" class="form-control" [(ngModel)]="price" placeholder="Цена" />
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-offset-2 col-md-8">
                <button class="btn btn-default" (click)="addItem(text, price)">Добавить</button>
            </div>
        </div>
    </div>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Предмет</th>
                <th>Цена</th>
                <th>Куплено</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let item of items">
                <td>{{item.purchase}}</td>
                <td>{{item.price}}</td>
                <td><input type="checkbox" [(ngModel)]="item.done" /></td>
            </tr>
        </tbody>
    </table>
</div>

<div class="col-xs-10"> 
    <div class="form-group">
        <label>Название модели</label>
        <input class="form-control" name="title" [(ngModel)]="phone.title" #phoneTitle="ngModel" (ngModelChange)="onTitleChange()" />
    </div>
    <div class="form-group">
        <label>Цена</label>
        <input type="number" class="form-control" name="price" [(ngModel)]="phone.price" #phonePrice="ngModel"/>
    </div>
    <div class="form-group">
        <label>Производитель</label>
        <select class="form-control" name="company" [(ngModel)]="phone.company" #phoneCompany="ngModel">
            <option  *ngFor="let comp of companies" [value]="comp">
                {{comp}}
            </option>
        </select>
    </div>
    <div class="form-group">
        <button class="btn btn-default" (click)="addPhone(phoneTitle, phonePrice, phoneCompany)">Добавить</button>
    </div>
</div>
<div><h3>Добавленные элементы</h3>
    <p>{{ phoneTitle.name }} : {{ phoneTitle.model }}</p>
    <p>{{ phonePrice.name }} : {{ phonePrice.model }}</p>
    <p>{{ phoneCompany.name }} : {{ phoneCompany.model }}</p>
</div>

<div class="col-xs-10"> 
    <div class="form-group">
        <label>Имя</label>
        <input class="form-control" name="name" [(ngModel)]="user.name" #name="ngModel" required />
        <div [hidden]="name.valid || name.untouched" class="alert alert-danger">
          Не указано имя
        </div>
    </div>
    <div class="form-group">
        <label>Email</label>
        <input class="form-control" type="email" name="email" [(ngModel)]="user.email" #email="ngModel" 
            required email  />
        <div [hidden]="email.valid || email.untouched" class="alert alert-danger">
          Некорректный email
        </div>
    </div>
    <div class="form-group">
        <label>Телефон</label>
        <input class="form-control" name="phone" [(ngModel)]="user.phone" #phone="ngModel" 
            required pattern="[0-9]{11}" />
        <div [hidden]="phone.valid || phone.untouched" class="alert alert-danger">
          Некорректный телефон
        </div>
    </div>
    <div class="form-group">
        <button [disabled]="name.invalid || email.invalid || phone.invalid" class="btn btn-default" (click)="addUser()">Добавить</button>
    </div>
</div>